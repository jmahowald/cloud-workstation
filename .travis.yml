sudo: required
services:
- docker
language: golang
script:
- set -e
- export BUILD_NUMBER=$TRAVIS_BUILD_NUMBER
- export IMAGE_NAME=cloud-workstation
- make
- "./docker-push.sh"
before_install:
- docker login -u $DOCKER_REG_USERNAME -p $DOCKER_REG_PASSWORD $DOCKER_REGISTRY
- chmod 755 ./docker-push.sh
env:
  global:
  - secure: Bl0ssbQyzy7IbAVZKf+Oy61ZIzu/H1xAByHqMFuiEZznk+TwLPVpQib3oA6EPtBeqX5b9+LqvCCFGeKDV5GRi9Nrsf1NV+/W7au1GJz3FvTBCCBzTOzIzhtkmxxQqi5fM+u7C7IwFmLXz/jcJXp6Km3hsj3I9xs7qhvpJnj/LDoPiHZ9rxtR0l81ICtFynT5h+1qAPDXCdnWvrhKp3fIE2LeKr3TUksLJJwN7YycxmSDERnhsQ71KoA23yQBFkoIpuwjsW6jysjJ0iLr4Y2ZNyn6YpmpSHmSQGlSobMCVLIIGr2H6DzMXp8LR8vabG06yOgMB+JH7BuhbwOEulLEaH+LtGqgpAWgjKS+t2xoNS1GSl0eqqf7BvnUlXjIh1z9APAsPNjUwRuiOMdnpu/RG2Izn3r5Xma5fBoe8/pRaUwjRy0YwS++VAdZ8xE3mokE/UdNEiUX22w9TjB3fXysqsd9px0KDEPor7Ol8Ct7EzMzsOJgRMWhDNEOv71BeJDrQ97GJf+yxiXLqcyCiiJ7nhtufJqBixrQl8jP76R1QonxuuWcnDhaj+pHBy6xw1zinpLYxcxhM7g21pbsNCZZPjgX+MCPmBCAE1gD6BnfNq/Qp817trpqolwLqWp3YjP8cn3L4ZVil3r6GRI6l8+tafiV1KS4/aU9kLcoFA3XzjE=
  - secure: nZM8KDLg/ItJ/bX8wLQ6LrAf3ZP57EfcqmqYg8or5Mfpd0ZDxeMq7HAMALjWixTbxkYd3aE730bXwF08qGuUSK5DvTvxTE6sKyrVMXCGWA1P5/2qsqdmBq4jtxH928qjKnVbVyJiSSyLf9pXGwWzIfeThig7b7zfrgh5+zxNwtBNyoWLiRm7kiTNIOjftdXvOIeoTVzjCJHFIr5OW1GbHE1+7kM2+Ah5LfmojTLzvEIRr9blVKLeb5kKx9ZJhrEwz3BjDvaQXcgbT+VyasQ9f8+g+QAJGpy/UPfCCobetTICTwQWpVkNvbirNwk9/n9ucBpsLj5ahSdvQdIHdHhoTNvSuDqiOs0vV6sav1slEFwXL8QppSdsNtnwHz/EnqQ1j3+knKOmZy38vWsyaI+ZXDsebhQYP2MomvsNoOH2daPoMFnkjM5KdrKWzOj+aeu7X7ySzygsiLGlw7PdTYGD1gYeFEgLH8tDvOgtTnWgIEqIdB+D407LnYLWtQ7U5790eiTytdN37ebYVveIF0z24VWlaX890MRAnxrZpK9CASBrGODfGnNbYrWxCBBUdWYxw7N1fbKwkzfX1E68JwNfJhcCWvVDLHM1F/3tMAZ/rv8TsRqS/rcwZRYaSUjGSbbsKZ3bhDPODL3B6qDNQkNhbgVhgsf/qL3BthIyA7v9h+I=
  - secure: v2j21k4X/mPAEpBto3haRd4vTGXrBrXfDG2P2Wg1g8UI3R5dWu8G3uDI4kTZgpe5+/x26xUwB2FFXZ7qmYTOZZVp4MbmBmmSmJEyZQiQeLsf1IEPWQC3v32zd0msMJ/OzaK5XqSoHQMa7RGe9P08GEatg4afnGqQLcCZP6SSgYv6bBkzz00Z14NQWjdnQRe/SFY+z0zIr5De4cr00aySu69GCQwrXmthin2UEmIc/B0dAdp+cpoVoDpMcPd0aSnQtYmic7Hbo1z8QAWu1kpUuO8rD8Gq0S/O4pADJ6FCgvf/JC4+30z4CO/Jw2Vlr26D7Uhy0VF/SmZ1jEzFfs5fSvkKfJFaApJw203UjQAsGS0c6QEWWgzsu2QG9WL6MO69jm4LACBxcNDeiy0LZkzafzphT41URcz/htE+oa/rbxqH52sfXT4q8hmk+3GmDsA9O9wxwnVwVKD9X8xWmrNksm3zpi9G3z8Y5vIEXykCP/Lzi9VCCR9U1N+Gc5b3/ppNUAjB8kvfJ116nv5/u9tByceT6Ndme3MVk/8I9h3iD8FjwiMmYPTCtQeA8nL/O0B3+r4KKfLZOaKwSJaLD9ThF/LCdKrj9TjfBIUvS9OsN82o0uEz+GBIt5XaDHa4274ddKtlR7TL+g9oVzbOe3eTa6jH58hEIPlfOqxITOW6eKs=
